(function(root,factory){if(typeof define==='function'&&define.amd){define([],factory.bind(this,root,root.videojs))}else if(typeof module!=='undefined'&&module.exports){module.exports=factory(root,root.videojs)}else{factory(root,root.videojs)}})(window,function(window,videojs){"use strict";window.videojs_hotkeys={version:"0.2.17"};var hotkeys=function(options){var player=this;var pEl=player.el();var doc=document;var def_options={volumeStep:0.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!0,enableModifiersForNumbers:!0,enableInactiveFocus:!0,playPauseKey:playPauseKey,rewindKey:rewindKey,forwardKey:forwardKey,volumeUpKey:volumeUpKey,volumeDownKey:volumeDownKey,muteKey:muteKey,fullscreenKey:fullscreenKey,customKeys:{}};var cPlay=1,cRewind=2,cForward=3,cVolumeUp=4,cVolumeDown=5,cMute=6,cFullscreen=7;var mergeOptions=videojs.mergeOptions||videojs.util.mergeOptions;options=mergeOptions(def_options,options||{});var volumeStep=options.volumeStep,seekStep=options.seekStep,enableMute=options.enableMute,enableVolumeScroll=options.enableVolumeScroll,enableFull=options.enableFullscreen,enableNumbers=options.enableNumbers,enableJogStyle=options.enableJogStyle,alwaysCaptureHotkeys=options.alwaysCaptureHotkeys,enableModifiersForNumbers=options.enableModifiersForNumbers,enableInactiveFocus=options.enableInactiveFocus;if(!pEl.hasAttribute('tabIndex')){pEl.setAttribute('tabIndex','-1')}
pEl.style.outline="none";if(alwaysCaptureHotkeys||!player.autoplay()){player.one('play',function(){pEl.focus()})}
if(enableInactiveFocus){player.on('userinactive',function(){var cancelFocusingPlayer=function(){clearTimeout(focusingPlayerTimeout)};var focusingPlayerTimeout=setTimeout(function(){player.off('useractive',cancelFocusingPlayer);if(doc.activeElement.parentElement==pEl.querySelector('.vjs-control-bar')){pEl.focus()}},10);player.one('useractive',cancelFocusingPlayer)})}
player.on('play',function(){var ifblocker=pEl.querySelector('.iframeblocker');if(ifblocker&&ifblocker.style.display===''){ifblocker.style.display="block";ifblocker.style.bottom="39px"}});var keyDown=function keyDown(event){var ewhich=event.which,curTime;var ePreventDefault=event.preventDefault;if(player.controls()){var activeEl=doc.activeElement;if(alwaysCaptureHotkeys||activeEl==pEl||activeEl==pEl.querySelector('.vjs-tech')||activeEl==pEl.querySelector('.vjs-control-bar')||activeEl==pEl.querySelector('.iframeblocker')){switch(checkKeys(event,player)){case cPlay:ePreventDefault();if(alwaysCaptureHotkeys){event.stopPropagation()}
if(player.paused()){player.play()}else{player.pause()}
break;case cRewind:if($(".com_input").hasClass('com_in_focus')===!1&&$(".com_search_in").hasClass('com_in_focus')===!1&&$(".more_vid_seach_in").hasClass('com_in_focus')===!1&&$('.user_full_info').is(':hover')===!1){ePreventDefault();curTime=player.currentTime()-seekStep;if(player.currentTime()<=seekStep){curTime=0}
player.currentTime(curTime)}
break;case cForward:if($(".com_input").hasClass('com_in_focus')===!1&&$(".com_search_in").hasClass('com_in_focus')===!1&&$(".more_vid_seach_in").hasClass('com_in_focus')===!1&&$('.user_full_info').is(':hover')===!1){ePreventDefault();player.currentTime(player.currentTime()+seekStep)}
break;case cVolumeDown:if($(".com_input").hasClass('com_in_focus')===!1&&$(".com_search_in").hasClass('com_in_focus')===!1&&$(".more_vid_seach_in").hasClass('com_in_focus')===!1&&$('.user_full_info').is(':hover')===!1){ePreventDefault();if(!enableJogStyle){player.volume(player.volume()-volumeStep)}else{curTime=player.currentTime()-1;if(player.currentTime()<=1){curTime=0}
player.currentTime(curTime)}}
break;case cVolumeUp:if($(".com_input").hasClass('com_in_focus')===!1&&$(".com_search_in").hasClass('com_in_focus')===!1&&$(".more_vid_seach_in").hasClass('com_in_focus')===!1&&$('.user_full_info').is(':hover')===!1){ePreventDefault();if(!enableJogStyle){player.volume(player.volume()+volumeStep)}else{player.currentTime(player.currentTime()+1)}}
break;case cMute:if(enableMute&&$(".com_input").hasClass('com_in_focus')===!1&&$(".com_search_in").hasClass('com_in_focus')===!1&&$(".more_vid_seach_in").hasClass('com_in_focus')===!1&&$('.user_full_info').is(':hover')===!1){player.muted(!player.muted())}
break;case cFullscreen:if(enableFull&&$(".com_input").hasClass('com_in_focus')===!1&&$(".com_search_in").hasClass('com_in_focus')===!1&&$(".more_vid_seach_in").hasClass('com_in_focus')===!1&&$('.user_full_info').is(':hover')===!1){if(player.isFullscreen()){player.exitFullscreen()}else{player.requestFullscreen()}}
break;default:if((ewhich>47&&ewhich<59)||(ewhich>95&&ewhich<106)){if(enableModifiersForNumbers||!(event.metaKey||event.ctrlKey||event.altKey)){if(enableNumbers&&$(".com_input").hasClass('com_in_focus')===!1&&$(".com_search_in").hasClass('com_in_focus')===!1&&$(".more_vid_seach_in").hasClass('com_in_focus')===!1&&$('.user_full_info').is(':hover')===!1){var sub=48;if(ewhich>95){sub=96}
var number=ewhich-sub;ePreventDefault();player.currentTime(player.duration()*number*0.1)}}}
for(var customKey in options.customKeys){var customHotkey=options.customKeys[customKey];if(customHotkey&&customHotkey.key&&customHotkey.handler){if(customHotkey.key(event)){ePreventDefault();customHotkey.handler(player,options,event)}}}}}}};var doubleClick=function doubleClick(event){if(player.controls()){var activeEl=event.relatedTarget||event.toElement||doc.activeElement;if(activeEl==pEl||activeEl==pEl.querySelector('.vjs-tech')||activeEl==pEl.querySelector('.iframeblocker')){if(enableFull){if(player.isFullscreen()){player.exitFullscreen()}else{player.requestFullscreen()}}}}};var mouseScroll=function mouseScroll(event){if(player.controls()){var activeEl=event.relatedTarget||event.toElement||doc.activeElement;if(alwaysCaptureHotkeys||activeEl==pEl||activeEl==pEl.querySelector('.vjs-tech')||activeEl==pEl.querySelector('.iframeblocker')||activeEl==pEl.querySelector('.vjs-control-bar')){if(enableVolumeScroll&&$('.video_full_info').is(':hover')===!1&&$('.user_full_info').is(':hover')===!1){event=window.event||event;var delta=Math.max(-1,Math.min(1,(event.wheelDelta||-event.detail)));event.preventDefault();if(delta==1){player.volume(player.volume()+volumeStep)}else if(delta==-1){player.volume(player.volume()-volumeStep)}}}}};var checkKeys=function checkKeys(e,player){if(options.playPauseKey(e,player)){return cPlay}
if(options.rewindKey(e,player)){return cRewind}
if(options.forwardKey(e,player)){return cForward}
if(options.volumeUpKey(e,player)){return cVolumeUp}
if(options.volumeDownKey(e,player)){return cVolumeDown}
if(options.muteKey(e,player)){return cMute}
if(options.fullscreenKey(e,player)){return cFullscreen}};function playPauseKey(e){if($(".com_input").hasClass('com_in_focus')===!1&&$(".com_search_in").hasClass('com_in_focus')===!1&&$(".more_vid_seach_in").hasClass('com_in_focus')===!1&&$('.user_full_info').is(':hover')===!1){return(e.which===32||e.which===179)}}
function rewindKey(e){return(e.which===37||e.which===177)}
function forwardKey(e){return(e.which===39||e.which===176)}
function volumeUpKey(e){return(e.which===38)}
function volumeDownKey(e){return(e.which===40)}
function muteKey(e){return(e.which===77)}
function fullscreenKey(e){return(e.which===70)}
player.on('keydown',keyDown);player.on('dblclick',doubleClick);player.on('mousewheel',mouseScroll);player.on("DOMMouseScroll",mouseScroll);return this};videojs.plugin('hotkeys',hotkeys)})
